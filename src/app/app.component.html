<mat-sidenav-container class="min-vh-100 bg-primary-pale">
  <mat-sidenav #sidenav class="bg-primary-pale border-end border-primary-light">
    @if (page) {
      <app-menu (selectedPage)="changePage($event)"
        [currentPage]="page"
        [loggedInUser]="loggedInUser"
        (onCloseSidenav)="onClose($event, sidenav)"
        (onLogout)="logout($event)">
      </app-menu>
    }
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar class="bg-primary d-flex align-items-center justify-content-between shadow-sm px-3">
      <!-- Hamburger menu (hidden on md and up) -->
      <button mat-icon-button class="d-md-none me-2" (click)="onToggleSidenav(sidenav)">
        <mat-icon class="text-white">menu</mat-icon>
      </button>
      <span class="fw-bold fs-4 text-white">TEXTME-APP</span>
      <!-- Navigation links (hidden on small screens) -->
      <nav class="d-none d-md-flex ms-auto">
        <ul class="d-flex flex-row gap-3 align-items-center mb-0 ps-0">
          @switch (loggedInUser === null) {
            @case (true) {
              <li>
                <a routerLink="/signup" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">Login</a>
              </li>
            }
            @default {
              <li>
                <a routerLink="/signup" (click)="logout($event)" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">Logout</a>
              </li>
              <li>
                <a routerLink="/people" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">People</a>
              </li>
              <li>
                <a routerLink="/main" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">Main</a>
              </li>
              <li>
                <a routerLink="/friends" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">Friends</a>
              </li>
              <li>
                <a routerLink="/messages" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">Messages</a>
              </li>
              <li>
                <a routerLink="/profile" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-light">Profile</a>
              </li>
            }
          }
        </ul>
      </nav>
    </mat-toolbar>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
