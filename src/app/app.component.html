<mat-sidenav-container class="min-vh-50 bg-primary" style="color: #fff;">
  <mat-sidenav
    #sidenav
    mode="over"
    class="bg-primary-light border-end border-primary auto-width-sidenav"
    [disableClose]="false">
    @if (page) {
      <app-menu (selectedPage)="changePage($event)"
        [currentPage]="page"
        [loggedInUser]="loggedInUser"
        (onCloseSidenav)="onClose($event, sidenav)"
        (onLogout)="logout($event)">
      </app-menu>
    }
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar [ngClass]="{'navbar-hidden': !showNavbar}" class="bg-primary d-flex align-items-center justify-content-between shadow-sm px-3 animate__animated" style="color: #fff; position: sticky; top: 0; z-index: 1000;">
      <!-- Hamburger menu (hidden on md and up) -->
      <button mat-icon-button class="d-md-none me-2 text-white" (click)="onToggleSidenav(sidenav)">
        <mat-icon class="text-white">menu</mat-icon>
      </button>
      <span class="fw-bold fs-4 text-white">TEXTME-APP</span>
      <!-- Navigation links (hidden on small screens) -->
      <nav class="d-none d-md-flex ms-auto">
        <ul class="d-flex flex-row gap-3 align-items-center mb-0 ps-0">
          @switch (loggedInUser === null) {
            @case (true) {
              <li>
                <a routerLink="/signup" class="text-primary text-decoration-none px-2 py-1 rounded-2 transition bg-primary-pale fw-semibold">Login</a>
              </li>
            }
            @default {
              <li>
                <a routerLink="/signup" (click)="logout($event)" class="text-primary text-decoration-none px-2 py-1 rounded-2 transition bg-primary-pale fw-semibold">Logout</a>
              </li>
              <li>
                <a routerLink="/people" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-pale">People</a>
              </li>
              <li>
                <a routerLink="/main" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-pale">Main</a>
              </li>
              <li>
                <a routerLink="/friends" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-pale">Friends</a>
              </li>
              <li>
                <a routerLink="/messages" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-pale">Messages</a>
              </li>
              <li>
                <a routerLink="/profile" class="text-white text-decoration-none px-2 py-1 rounded-2 transition hover-bg-primary-pale">Profile</a>
              </li>
            }
          }
        </ul>
      </nav>
    </mat-toolbar>
    <div class="p-3 bg-primary-pale animate__animated animate__fadeIn" style="min-height: calc(100vh - 64px);">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
